{"version":3,"sources":["game03.js"],"names":["DIRECTION","IDLE","LEFT","DOWN","rounds","Ball","new","incrementedSpeed","width","height","x","canvas","y","moveX","moveY","speed","side","this","score","move","Game","initialize","querySelector","getContext","paddle","Paddle","call","running","style","over","color","listen","endGameMenu","context","fillStyle","fillRect","Pong","setTimeout","Object","text","font","fillText","ball","_turnDelayIsOver","turn","assign","menu","draw","r","update","player","_resetTurn","UP","_generateRoundColor","round","RIGHT","play","Math","random","floor","clearRect","beginPath","lineWidth","strokeStyle","textAlign","toString","requestAnimationFrame","loop","key","keyCode","addEventListener","loser","Date","getTime","newColor","colors","setLineDash","moveTo","lineTo","stroke","document","window","victor","timer","beep2","length"],"mappings":"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","file":"game03.min.js","sourcesContent":["let DIRECTION = {\r\n    IDLE: 0,\r\n    UP: 1,\r\n    DOWN: 2,\r\n    LEFT: 3,\r\n    RIGHT: 4\r\n};\r\n\r\nlet rounds = [5, 5, 3, 3, 2];\r\nlet colors = ['#1abc9c', '#2ecc71', '#3498db', '#e74c3c', '#9b59b6'];\r\n\r\n\r\nlet Ball = {\r\n    new: function(incrementedSpeed) {\r\n        return {\r\n            width: 18,\r\n            height: 18,\r\n            x: (this.canvas.width / 2) - 9,\r\n            y: (this.canvas.height / 2) - 9,\r\n            moveX: DIRECTION.IDLE,\r\n            moveY: DIRECTION.IDLE,\r\n            speed: incrementedSpeed || 9\r\n        };\r\n    }\r\n};\r\n\r\n\r\nlet Paddle = {\r\n    new: function(side) {\r\n        return {\r\n            width: 18,\r\n            height: 70,\r\n            x: side === 'left' ? 150 : this.canvas.width - 150,\r\n            y: (this.canvas.height / 2) - 35,\r\n            score: 0,\r\n            move: DIRECTION.IDLE,\r\n            speed: 10\r\n        };\r\n    }\r\n};\r\n\r\nlet Game = {\r\n    initialize: function() {\r\n        this.canvas = document.querySelector('canvas');\r\n        this.context = this.canvas.getContext('2d');\r\n\r\n        this.canvas.width = 1400;\r\n        this.canvas.height = 1000;\r\n\r\n        this.canvas.style.width = (this.canvas.width / 2) + 'px';\r\n        this.canvas.style.height = (this.canvas.height / 2) + 'px';\r\n\r\n        this.player = Paddle.new.call(this, 'left');\r\n        this.paddle = Paddle.new.call(this, 'right');\r\n        this.ball = Ball.new.call(this);\r\n\r\n        this.paddle.speed = 8;\r\n        this.running = this.over = false;\r\n        this.turn = this.paddle;\r\n        this.timer = this.round = 0;\r\n        this.color = '#2c3e50';\r\n\r\n        Pong.menu();\r\n        Pong.listen();\r\n    },\r\n\r\n    endGameMenu: function(text) {\r\n\r\n        Pong.context.font = '110px Courier New';\r\n        Pong.context.fillStyle = this.color;\r\n\r\n\r\n        Pong.context.fillRect(\r\n            Pong.canvas.width / 2 - 350,\r\n            Pong.canvas.height / 2 - 48,\r\n            700,\r\n            100\r\n        );\r\n\r\n\r\n        Pong.context.fillStyle = '#ffffff';\r\n\r\n\r\n        Pong.context.fillText(text,\r\n            Pong.canvas.width / 2,\r\n            Pong.canvas.height / 2 + 15\r\n        );\r\n\r\n        setTimeout(function() {\r\n            Pong = Object.assign({}, Game);\r\n            Pong.initialize();\r\n        }, 3000);\r\n    },\r\n\r\n    menu: function() {\r\n\r\n        Pong.draw();\r\n\r\n        r\r\n        this.context.font = '50px Courier New';\r\n        this.context.fillStyle = this.color;\r\n\r\n\r\n        this.context.fillRect(\r\n            this.canvas.width / 2 - 350,\r\n            this.canvas.height / 2 - 48,\r\n            700,\r\n            100\r\n        );\r\n\r\n\r\n        this.context.fillStyle = '#ffffff';\r\n\r\n\r\n        this.context.fillText('Press any key to begin',\r\n            this.canvas.width / 2,\r\n            this.canvas.height / 2 + 15\r\n        );\r\n    },\r\n\r\n\r\n    update: function() {\r\n        if (!this.over) {\r\n\r\n            if (this.ball.x <= 0) Pong._resetTurn.call(this, this.paddle, this.player);\r\n            if (this.ball.x >= this.canvas.width - this.ball.width) Pong._resetTurn.call(this, this.player, this.paddle);\r\n            if (this.ball.y <= 0) this.ball.moveY = DIRECTION.DOWN;\r\n            if (this.ball.y >= this.canvas.height - this.ball.height) this.ball.moveY = DIRECTION.UP;\r\n\r\n            if (this.player.move === DIRECTION.UP) this.player.y -= this.player.speed;\r\n            else if (this.player.move === DIRECTION.DOWN) this.player.y += this.player.speed;\r\n\r\n\r\n            if (Pong._turnDelayIsOver.call(this) && this.turn) {\r\n                this.ball.moveX = this.turn === this.player ? DIRECTION.LEFT : DIRECTION.RIGHT;\r\n                this.ball.moveY = [DIRECTION.UP, DIRECTION.DOWN][Math.round(Math.random())];\r\n                this.ball.y = Math.floor(Math.random() * this.canvas.height - 200) + 200;\r\n                this.turn = null;\r\n            }\r\n\r\n\r\n            if (this.player.y <= 0) this.player.y = 0;\r\n            else if (this.player.y >= (this.canvas.height - this.player.height)) this.player.y = (this.canvas.height - this.player.height);\r\n\r\n\r\n            if (this.ball.moveY === DIRECTION.UP) this.ball.y -= (this.ball.speed / 1.5);\r\n            else if (this.ball.moveY === DIRECTION.DOWN) this.ball.y += (this.ball.speed / 1.5);\r\n            if (this.ball.moveX === DIRECTION.LEFT) this.ball.x -= this.ball.speed;\r\n            else if (this.ball.moveX === DIRECTION.RIGHT) this.ball.x += this.ball.speed;\r\n\r\n\r\n            if (this.paddle.y > this.ball.y - (this.paddle.height / 2)) {\r\n                if (this.ball.moveX === DIRECTION.RIGHT) this.paddle.y -= this.paddle.speed / 1.5;\r\n                else this.paddle.y -= this.paddle.speed / 4;\r\n            }\r\n            if (this.paddle.y < this.ball.y - (this.paddle.height / 2)) {\r\n                if (this.ball.moveX === DIRECTION.RIGHT) this.paddle.y += this.paddle.speed / 1.5;\r\n                else this.paddle.y += this.paddle.speed / 4;\r\n            }\r\n\r\n\r\n            if (this.paddle.y >= this.canvas.height - this.paddle.height) this.paddle.y = this.canvas.height - this.paddle.height;\r\n            else if (this.paddle.y <= 0) this.paddle.y = 0;\r\n\r\n\r\n            if (this.ball.x - this.ball.width <= this.player.x && this.ball.x >= this.player.x - this.player.width) {\r\n                if (this.ball.y <= this.player.y + this.player.height && this.ball.y + this.ball.height >= this.player.y) {\r\n                    this.ball.x = (this.player.x + this.ball.width);\r\n                    this.ball.moveX = DIRECTION.RIGHT;\r\n\r\n                    beep1.play();\r\n                }\r\n            }\r\n\r\n\r\n            if (this.ball.x - this.ball.width <= this.paddle.x && this.ball.x >= this.paddle.x - this.paddle.width) {\r\n                if (this.ball.y <= this.paddle.y + this.paddle.height && this.ball.y + this.ball.height >= this.paddle.y) {\r\n                    this.ball.x = (this.paddle.x - this.ball.width);\r\n                    this.ball.moveX = DIRECTION.LEFT;\r\n\r\n                    beep1.play();\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n        if (this.player.score === rounds[this.round]) {\r\n\r\n            if (!rounds[this.round + 1]) {\r\n                this.over = true;\r\n                setTimeout(function() { Pong.endGameMenu('Winner!'); }, 1000);\r\n            } else {\r\n\r\n                this.color = this._generateRoundColor();\r\n                this.player.score = this.paddle.score = 0;\r\n                this.player.speed += 0.5;\r\n                this.paddle.speed += 1;\r\n                this.ball.speed += 1;\r\n                this.round += 1;\r\n\r\n                beep3.play();\r\n            }\r\n        } else if (this.paddle.score === rounds[this.round]) {\r\n            this.over = true;\r\n            setTimeout(function() { Pong.endGameMenu('Game Over!'); }, 1000);\r\n        }\r\n    },\r\n\r\n\r\n    draw: function() {\r\n        // Clear the Canvas\r\n        this.context.clearRect(\r\n            0,\r\n            0,\r\n            this.canvas.width,\r\n            this.canvas.height\r\n        );\r\n\r\n\r\n        this.context.fillStyle = this.color;\r\n\r\n\r\n        this.context.fillRect(\r\n            0,\r\n            0,\r\n            this.canvas.width,\r\n            this.canvas.height\r\n        );\r\n\r\n\r\n        this.context.fillStyle = '#ffffff';\r\n\r\n\r\n        this.context.fillRect(\r\n            this.player.x,\r\n            this.player.y,\r\n            this.player.width,\r\n            this.player.height\r\n        );\r\n\r\n\r\n        this.context.fillRect(\r\n            this.paddle.x,\r\n            this.paddle.y,\r\n            this.paddle.width,\r\n            this.paddle.height\r\n        );\r\n\r\n\r\n        if (Pong._turnDelayIsOver.call(this)) {\r\n            this.context.fillRect(\r\n                this.ball.x,\r\n                this.ball.y,\r\n                this.ball.width,\r\n                this.ball.height\r\n            );\r\n        }\r\n\r\n        this.context.beginPath();\r\n        this.context.setLineDash([7, 15]);\r\n        this.context.moveTo((this.canvas.width / 2), this.canvas.height - 140);\r\n        this.context.lineTo((this.canvas.width / 2), 140);\r\n        this.context.lineWidth = 10;\r\n        this.context.strokeStyle = '#ffffff';\r\n        this.context.stroke();\r\n\r\n\r\n        this.context.font = '100px Courier New';\r\n        this.context.textAlign = 'center';\r\n\r\n\r\n        this.context.fillText(\r\n            this.player.score.toString(),\r\n            (this.canvas.width / 2) - 300,\r\n            200\r\n        );\r\n\r\n\r\n        this.context.fillText(\r\n            this.paddle.score.toString(),\r\n            (this.canvas.width / 2) + 300,\r\n            200\r\n        );\r\n\r\n\r\n        this.context.font = '30px Courier New';\r\n\r\n\r\n        this.context.fillText(\r\n            'Round ' + (Pong.round + 1),\r\n            (this.canvas.width / 2),\r\n            35\r\n        );\r\n\r\n\r\n        this.context.font = '40px Courier';\r\n\r\n\r\n        this.context.fillText(\r\n            rounds[Pong.round] ? rounds[Pong.round] : rounds[Pong.round - 1],\r\n            (this.canvas.width / 2),\r\n            100\r\n        );\r\n    },\r\n\r\n    loop: function() {\r\n        Pong.update();\r\n        Pong.draw();\r\n\r\n\r\n        if (!Pong.over) requestAnimationFrame(Pong.loop);\r\n    },\r\n\r\n    listen: function() {\r\n        document.addEventListener('keydown', function(key) {\r\n\r\n            if (Pong.running === false) {\r\n                Pong.running = true;\r\n                window.requestAnimationFrame(Pong.loop);\r\n            }\r\n\r\n\r\n            if (key.keyCode === 38 || key.keyCode === 87) Pong.player.move = DIRECTION.UP;\r\n\r\n\r\n            if (key.keyCode === 40 || key.keyCode === 83) Pong.player.move = DIRECTION.DOWN;\r\n        });\r\n\r\n\r\n        document.addEventListener('keyup', function(key) { Pong.player.move = DIRECTION.IDLE; });\r\n    },\r\n\r\n\r\n    _resetTurn: function(victor, loser) {\r\n        this.ball = Ball.new.call(this, this.ball.speed);\r\n        this.turn = loser;\r\n        this.timer = (new Date()).getTime();\r\n\r\n        victor.score++;\r\n        beep2.play();\r\n    },\r\n\r\n\r\n    _turnDelayIsOver: function() {\r\n        return ((new Date()).getTime() - this.timer >= 1000);\r\n    },\r\n\r\n\r\n    _generateRoundColor: function() {\r\n        var newColor = colors[Math.floor(Math.random() * colors.length)];\r\n        if (newColor === this.color) return Pong._generateRoundColor();\r\n        return newColor;\r\n    }\r\n};\r\n\r\nlet Pong = Object.assign({}, Game);\r\nPong.initialize();"]}