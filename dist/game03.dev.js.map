{"version":3,"sources":["game03.js"],"names":["DIRECTION","IDLE","UP","DOWN","LEFT","RIGHT","rounds","colors","Ball","incrementedSpeed","width","height","x","canvas","y","moveX","moveY","speed","Paddle","side","score","move","Game","initialize","document","querySelector","context","getContext","style","player","call","paddle","ball","running","over","turn","timer","round","color","Pong","menu","listen","endGameMenu","text","font","fillStyle","fillRect","fillText","setTimeout","Object","assign","draw","r","update","_resetTurn","_turnDelayIsOver","Math","random","floor","beep1","play","_generateRoundColor","beep3","clearRect","beginPath","setLineDash","moveTo","lineTo","lineWidth","strokeStyle","stroke","textAlign","toString","loop","requestAnimationFrame","addEventListener","key","window","keyCode","victor","loser","Date","getTime","beep2","newColor","length"],"mappings":";;AAAA,IAAIA,SAAS,GAAG;AACZC,EAAAA,IAAI,EAAE,CADM;AAEZC,EAAAA,EAAE,EAAE,CAFQ;AAGZC,EAAAA,IAAI,EAAE,CAHM;AAIZC,EAAAA,IAAI,EAAE,CAJM;AAKZC,EAAAA,KAAK,EAAE;AALK,CAAhB;AAQA,IAAIC,MAAM,GAAG,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,CAAb;AACA,IAAIC,MAAM,GAAG,CAAC,SAAD,EAAY,SAAZ,EAAuB,SAAvB,EAAkC,SAAlC,EAA6C,SAA7C,CAAb;AAGA,IAAIC,IAAI,GAAG;AACP,SAAK,cAASC,gBAAT,EAA2B;AAC5B,WAAO;AACHC,MAAAA,KAAK,EAAE,EADJ;AAEHC,MAAAA,MAAM,EAAE,EAFL;AAGHC,MAAAA,CAAC,EAAG,KAAKC,MAAL,CAAYH,KAAZ,GAAoB,CAArB,GAA0B,CAH1B;AAIHI,MAAAA,CAAC,EAAG,KAAKD,MAAL,CAAYF,MAAZ,GAAqB,CAAtB,GAA2B,CAJ3B;AAKHI,MAAAA,KAAK,EAAEf,SAAS,CAACC,IALd;AAMHe,MAAAA,KAAK,EAAEhB,SAAS,CAACC,IANd;AAOHgB,MAAAA,KAAK,EAAER,gBAAgB,IAAI;AAPxB,KAAP;AASH;AAXM,CAAX;AAeA,IAAIS,MAAM,GAAG;AACT,SAAK,cAASC,IAAT,EAAe;AAChB,WAAO;AACHT,MAAAA,KAAK,EAAE,EADJ;AAEHC,MAAAA,MAAM,EAAE,EAFL;AAGHC,MAAAA,CAAC,EAAEO,IAAI,KAAK,MAAT,GAAkB,GAAlB,GAAwB,KAAKN,MAAL,CAAYH,KAAZ,GAAoB,GAH5C;AAIHI,MAAAA,CAAC,EAAG,KAAKD,MAAL,CAAYF,MAAZ,GAAqB,CAAtB,GAA2B,EAJ3B;AAKHS,MAAAA,KAAK,EAAE,CALJ;AAMHC,MAAAA,IAAI,EAAErB,SAAS,CAACC,IANb;AAOHgB,MAAAA,KAAK,EAAE;AAPJ,KAAP;AASH;AAXQ,CAAb;AAcA,IAAIK,IAAI,GAAG;AACPC,EAAAA,UAAU,EAAE,sBAAW;AACnB,SAAKV,MAAL,GAAcW,QAAQ,CAACC,aAAT,CAAuB,QAAvB,CAAd;AACA,SAAKC,OAAL,GAAe,KAAKb,MAAL,CAAYc,UAAZ,CAAuB,IAAvB,CAAf;AAEA,SAAKd,MAAL,CAAYH,KAAZ,GAAoB,IAApB;AACA,SAAKG,MAAL,CAAYF,MAAZ,GAAqB,IAArB;AAEA,SAAKE,MAAL,CAAYe,KAAZ,CAAkBlB,KAAlB,GAA2B,KAAKG,MAAL,CAAYH,KAAZ,GAAoB,CAArB,GAA0B,IAApD;AACA,SAAKG,MAAL,CAAYe,KAAZ,CAAkBjB,MAAlB,GAA4B,KAAKE,MAAL,CAAYF,MAAZ,GAAqB,CAAtB,GAA2B,IAAtD;AAEA,SAAKkB,MAAL,GAAcX,MAAM,OAAN,CAAWY,IAAX,CAAgB,IAAhB,EAAsB,MAAtB,CAAd;AACA,SAAKC,MAAL,GAAcb,MAAM,OAAN,CAAWY,IAAX,CAAgB,IAAhB,EAAsB,OAAtB,CAAd;AACA,SAAKE,IAAL,GAAYxB,IAAI,OAAJ,CAASsB,IAAT,CAAc,IAAd,CAAZ;AAEA,SAAKC,MAAL,CAAYd,KAAZ,GAAoB,CAApB;AACA,SAAKgB,OAAL,GAAe,KAAKC,IAAL,GAAY,KAA3B;AACA,SAAKC,IAAL,GAAY,KAAKJ,MAAjB;AACA,SAAKK,KAAL,GAAa,KAAKC,KAAL,GAAa,CAA1B;AACA,SAAKC,KAAL,GAAa,SAAb;AAEAC,IAAAA,IAAI,CAACC,IAAL;AACAD,IAAAA,IAAI,CAACE,MAAL;AACH,GAvBM;AAyBPC,EAAAA,WAAW,EAAE,qBAASC,IAAT,EAAe;AAExBJ,IAAAA,IAAI,CAACb,OAAL,CAAakB,IAAb,GAAoB,mBAApB;AACAL,IAAAA,IAAI,CAACb,OAAL,CAAamB,SAAb,GAAyB,KAAKP,KAA9B;AAGAC,IAAAA,IAAI,CAACb,OAAL,CAAaoB,QAAb,CACIP,IAAI,CAAC1B,MAAL,CAAYH,KAAZ,GAAoB,CAApB,GAAwB,GAD5B,EAEI6B,IAAI,CAAC1B,MAAL,CAAYF,MAAZ,GAAqB,CAArB,GAAyB,EAF7B,EAGI,GAHJ,EAII,GAJJ;AAQA4B,IAAAA,IAAI,CAACb,OAAL,CAAamB,SAAb,GAAyB,SAAzB;AAGAN,IAAAA,IAAI,CAACb,OAAL,CAAaqB,QAAb,CAAsBJ,IAAtB,EACIJ,IAAI,CAAC1B,MAAL,CAAYH,KAAZ,GAAoB,CADxB,EAEI6B,IAAI,CAAC1B,MAAL,CAAYF,MAAZ,GAAqB,CAArB,GAAyB,EAF7B;AAKAqC,IAAAA,UAAU,CAAC,YAAW;AAClBT,MAAAA,IAAI,GAAGU,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkB5B,IAAlB,CAAP;AACAiB,MAAAA,IAAI,CAAChB,UAAL;AACH,KAHS,EAGP,IAHO,CAAV;AAIH,GAnDM;AAqDPiB,EAAAA,IAAI,EAAE,gBAAW;AAEbD,IAAAA,IAAI,CAACY,IAAL;AAEAC,IAAAA,CAAC;AACD,SAAK1B,OAAL,CAAakB,IAAb,GAAoB,kBAApB;AACA,SAAKlB,OAAL,CAAamB,SAAb,GAAyB,KAAKP,KAA9B;AAGA,SAAKZ,OAAL,CAAaoB,QAAb,CACI,KAAKjC,MAAL,CAAYH,KAAZ,GAAoB,CAApB,GAAwB,GAD5B,EAEI,KAAKG,MAAL,CAAYF,MAAZ,GAAqB,CAArB,GAAyB,EAF7B,EAGI,GAHJ,EAII,GAJJ;AAQA,SAAKe,OAAL,CAAamB,SAAb,GAAyB,SAAzB;AAGA,SAAKnB,OAAL,CAAaqB,QAAb,CAAsB,wBAAtB,EACI,KAAKlC,MAAL,CAAYH,KAAZ,GAAoB,CADxB,EAEI,KAAKG,MAAL,CAAYF,MAAZ,GAAqB,CAArB,GAAyB,EAF7B;AAIH,GA7EM;AAgFP0C,EAAAA,MAAM,EAAE,kBAAW;AACf,QAAI,CAAC,KAAKnB,IAAV,EAAgB;AAEZ,UAAI,KAAKF,IAAL,CAAUpB,CAAV,IAAe,CAAnB,EAAsB2B,IAAI,CAACe,UAAL,CAAgBxB,IAAhB,CAAqB,IAArB,EAA2B,KAAKC,MAAhC,EAAwC,KAAKF,MAA7C;AACtB,UAAI,KAAKG,IAAL,CAAUpB,CAAV,IAAe,KAAKC,MAAL,CAAYH,KAAZ,GAAoB,KAAKsB,IAAL,CAAUtB,KAAjD,EAAwD6B,IAAI,CAACe,UAAL,CAAgBxB,IAAhB,CAAqB,IAArB,EAA2B,KAAKD,MAAhC,EAAwC,KAAKE,MAA7C;AACxD,UAAI,KAAKC,IAAL,CAAUlB,CAAV,IAAe,CAAnB,EAAsB,KAAKkB,IAAL,CAAUhB,KAAV,GAAkBhB,SAAS,CAACG,IAA5B;AACtB,UAAI,KAAK6B,IAAL,CAAUlB,CAAV,IAAe,KAAKD,MAAL,CAAYF,MAAZ,GAAqB,KAAKqB,IAAL,CAAUrB,MAAlD,EAA0D,KAAKqB,IAAL,CAAUhB,KAAV,GAAkBhB,SAAS,CAACE,EAA5B;AAE1D,UAAI,KAAK2B,MAAL,CAAYR,IAAZ,KAAqBrB,SAAS,CAACE,EAAnC,EAAuC,KAAK2B,MAAL,CAAYf,CAAZ,IAAiB,KAAKe,MAAL,CAAYZ,KAA7B,CAAvC,KACK,IAAI,KAAKY,MAAL,CAAYR,IAAZ,KAAqBrB,SAAS,CAACG,IAAnC,EAAyC,KAAK0B,MAAL,CAAYf,CAAZ,IAAiB,KAAKe,MAAL,CAAYZ,KAA7B;;AAG9C,UAAIsB,IAAI,CAACgB,gBAAL,CAAsBzB,IAAtB,CAA2B,IAA3B,KAAoC,KAAKK,IAA7C,EAAmD;AAC/C,aAAKH,IAAL,CAAUjB,KAAV,GAAkB,KAAKoB,IAAL,KAAc,KAAKN,MAAnB,GAA4B7B,SAAS,CAACI,IAAtC,GAA6CJ,SAAS,CAACK,KAAzE;AACA,aAAK2B,IAAL,CAAUhB,KAAV,GAAkB,CAAChB,SAAS,CAACE,EAAX,EAAeF,SAAS,CAACG,IAAzB,EAA+BqD,IAAI,CAACnB,KAAL,CAAWmB,IAAI,CAACC,MAAL,EAAX,CAA/B,CAAlB;AACA,aAAKzB,IAAL,CAAUlB,CAAV,GAAc0C,IAAI,CAACE,KAAL,CAAWF,IAAI,CAACC,MAAL,KAAgB,KAAK5C,MAAL,CAAYF,MAA5B,GAAqC,GAAhD,IAAuD,GAArE;AACA,aAAKwB,IAAL,GAAY,IAAZ;AACH;;AAGD,UAAI,KAAKN,MAAL,CAAYf,CAAZ,IAAiB,CAArB,EAAwB,KAAKe,MAAL,CAAYf,CAAZ,GAAgB,CAAhB,CAAxB,KACK,IAAI,KAAKe,MAAL,CAAYf,CAAZ,IAAkB,KAAKD,MAAL,CAAYF,MAAZ,GAAqB,KAAKkB,MAAL,CAAYlB,MAAvD,EAAgE,KAAKkB,MAAL,CAAYf,CAAZ,GAAiB,KAAKD,MAAL,CAAYF,MAAZ,GAAqB,KAAKkB,MAAL,CAAYlB,MAAlD;AAGrE,UAAI,KAAKqB,IAAL,CAAUhB,KAAV,KAAoBhB,SAAS,CAACE,EAAlC,EAAsC,KAAK8B,IAAL,CAAUlB,CAAV,IAAgB,KAAKkB,IAAL,CAAUf,KAAV,GAAkB,GAAlC,CAAtC,KACK,IAAI,KAAKe,IAAL,CAAUhB,KAAV,KAAoBhB,SAAS,CAACG,IAAlC,EAAwC,KAAK6B,IAAL,CAAUlB,CAAV,IAAgB,KAAKkB,IAAL,CAAUf,KAAV,GAAkB,GAAlC;AAC7C,UAAI,KAAKe,IAAL,CAAUjB,KAAV,KAAoBf,SAAS,CAACI,IAAlC,EAAwC,KAAK4B,IAAL,CAAUpB,CAAV,IAAe,KAAKoB,IAAL,CAAUf,KAAzB,CAAxC,KACK,IAAI,KAAKe,IAAL,CAAUjB,KAAV,KAAoBf,SAAS,CAACK,KAAlC,EAAyC,KAAK2B,IAAL,CAAUpB,CAAV,IAAe,KAAKoB,IAAL,CAAUf,KAAzB;;AAG9C,UAAI,KAAKc,MAAL,CAAYjB,CAAZ,GAAgB,KAAKkB,IAAL,CAAUlB,CAAV,GAAe,KAAKiB,MAAL,CAAYpB,MAAZ,GAAqB,CAAxD,EAA4D;AACxD,YAAI,KAAKqB,IAAL,CAAUjB,KAAV,KAAoBf,SAAS,CAACK,KAAlC,EAAyC,KAAK0B,MAAL,CAAYjB,CAAZ,IAAiB,KAAKiB,MAAL,CAAYd,KAAZ,GAAoB,GAArC,CAAzC,KACK,KAAKc,MAAL,CAAYjB,CAAZ,IAAiB,KAAKiB,MAAL,CAAYd,KAAZ,GAAoB,CAArC;AACR;;AACD,UAAI,KAAKc,MAAL,CAAYjB,CAAZ,GAAgB,KAAKkB,IAAL,CAAUlB,CAAV,GAAe,KAAKiB,MAAL,CAAYpB,MAAZ,GAAqB,CAAxD,EAA4D;AACxD,YAAI,KAAKqB,IAAL,CAAUjB,KAAV,KAAoBf,SAAS,CAACK,KAAlC,EAAyC,KAAK0B,MAAL,CAAYjB,CAAZ,IAAiB,KAAKiB,MAAL,CAAYd,KAAZ,GAAoB,GAArC,CAAzC,KACK,KAAKc,MAAL,CAAYjB,CAAZ,IAAiB,KAAKiB,MAAL,CAAYd,KAAZ,GAAoB,CAArC;AACR;;AAGD,UAAI,KAAKc,MAAL,CAAYjB,CAAZ,IAAiB,KAAKD,MAAL,CAAYF,MAAZ,GAAqB,KAAKoB,MAAL,CAAYpB,MAAtD,EAA8D,KAAKoB,MAAL,CAAYjB,CAAZ,GAAgB,KAAKD,MAAL,CAAYF,MAAZ,GAAqB,KAAKoB,MAAL,CAAYpB,MAAjD,CAA9D,KACK,IAAI,KAAKoB,MAAL,CAAYjB,CAAZ,IAAiB,CAArB,EAAwB,KAAKiB,MAAL,CAAYjB,CAAZ,GAAgB,CAAhB;;AAG7B,UAAI,KAAKkB,IAAL,CAAUpB,CAAV,GAAc,KAAKoB,IAAL,CAAUtB,KAAxB,IAAiC,KAAKmB,MAAL,CAAYjB,CAA7C,IAAkD,KAAKoB,IAAL,CAAUpB,CAAV,IAAe,KAAKiB,MAAL,CAAYjB,CAAZ,GAAgB,KAAKiB,MAAL,CAAYnB,KAAjG,EAAwG;AACpG,YAAI,KAAKsB,IAAL,CAAUlB,CAAV,IAAe,KAAKe,MAAL,CAAYf,CAAZ,GAAgB,KAAKe,MAAL,CAAYlB,MAA3C,IAAqD,KAAKqB,IAAL,CAAUlB,CAAV,GAAc,KAAKkB,IAAL,CAAUrB,MAAxB,IAAkC,KAAKkB,MAAL,CAAYf,CAAvG,EAA0G;AACtG,eAAKkB,IAAL,CAAUpB,CAAV,GAAe,KAAKiB,MAAL,CAAYjB,CAAZ,GAAgB,KAAKoB,IAAL,CAAUtB,KAAzC;AACA,eAAKsB,IAAL,CAAUjB,KAAV,GAAkBf,SAAS,CAACK,KAA5B;AAEAsD,UAAAA,KAAK,CAACC,IAAN;AACH;AACJ;;AAGD,UAAI,KAAK5B,IAAL,CAAUpB,CAAV,GAAc,KAAKoB,IAAL,CAAUtB,KAAxB,IAAiC,KAAKqB,MAAL,CAAYnB,CAA7C,IAAkD,KAAKoB,IAAL,CAAUpB,CAAV,IAAe,KAAKmB,MAAL,CAAYnB,CAAZ,GAAgB,KAAKmB,MAAL,CAAYrB,KAAjG,EAAwG;AACpG,YAAI,KAAKsB,IAAL,CAAUlB,CAAV,IAAe,KAAKiB,MAAL,CAAYjB,CAAZ,GAAgB,KAAKiB,MAAL,CAAYpB,MAA3C,IAAqD,KAAKqB,IAAL,CAAUlB,CAAV,GAAc,KAAKkB,IAAL,CAAUrB,MAAxB,IAAkC,KAAKoB,MAAL,CAAYjB,CAAvG,EAA0G;AACtG,eAAKkB,IAAL,CAAUpB,CAAV,GAAe,KAAKmB,MAAL,CAAYnB,CAAZ,GAAgB,KAAKoB,IAAL,CAAUtB,KAAzC;AACA,eAAKsB,IAAL,CAAUjB,KAAV,GAAkBf,SAAS,CAACI,IAA5B;AAEAuD,UAAAA,KAAK,CAACC,IAAN;AACH;AACJ;AACJ;;AAGD,QAAI,KAAK/B,MAAL,CAAYT,KAAZ,KAAsBd,MAAM,CAAC,KAAK+B,KAAN,CAAhC,EAA8C;AAE1C,UAAI,CAAC/B,MAAM,CAAC,KAAK+B,KAAL,GAAa,CAAd,CAAX,EAA6B;AACzB,aAAKH,IAAL,GAAY,IAAZ;AACAc,QAAAA,UAAU,CAAC,YAAW;AAAET,UAAAA,IAAI,CAACG,WAAL,CAAiB,SAAjB;AAA8B,SAA5C,EAA8C,IAA9C,CAAV;AACH,OAHD,MAGO;AAEH,aAAKJ,KAAL,GAAa,KAAKuB,mBAAL,EAAb;AACA,aAAKhC,MAAL,CAAYT,KAAZ,GAAoB,KAAKW,MAAL,CAAYX,KAAZ,GAAoB,CAAxC;AACA,aAAKS,MAAL,CAAYZ,KAAZ,IAAqB,GAArB;AACA,aAAKc,MAAL,CAAYd,KAAZ,IAAqB,CAArB;AACA,aAAKe,IAAL,CAAUf,KAAV,IAAmB,CAAnB;AACA,aAAKoB,KAAL,IAAc,CAAd;AAEAyB,QAAAA,KAAK,CAACF,IAAN;AACH;AACJ,KAhBD,MAgBO,IAAI,KAAK7B,MAAL,CAAYX,KAAZ,KAAsBd,MAAM,CAAC,KAAK+B,KAAN,CAAhC,EAA8C;AACjD,WAAKH,IAAL,GAAY,IAAZ;AACAc,MAAAA,UAAU,CAAC,YAAW;AAAET,QAAAA,IAAI,CAACG,WAAL,CAAiB,YAAjB;AAAiC,OAA/C,EAAiD,IAAjD,CAAV;AACH;AACJ,GArKM;AAwKPS,EAAAA,IAAI,EAAE,gBAAW;AACb;AACA,SAAKzB,OAAL,CAAaqC,SAAb,CACI,CADJ,EAEI,CAFJ,EAGI,KAAKlD,MAAL,CAAYH,KAHhB,EAII,KAAKG,MAAL,CAAYF,MAJhB;AAQA,SAAKe,OAAL,CAAamB,SAAb,GAAyB,KAAKP,KAA9B;AAGA,SAAKZ,OAAL,CAAaoB,QAAb,CACI,CADJ,EAEI,CAFJ,EAGI,KAAKjC,MAAL,CAAYH,KAHhB,EAII,KAAKG,MAAL,CAAYF,MAJhB;AAQA,SAAKe,OAAL,CAAamB,SAAb,GAAyB,SAAzB;AAGA,SAAKnB,OAAL,CAAaoB,QAAb,CACI,KAAKjB,MAAL,CAAYjB,CADhB,EAEI,KAAKiB,MAAL,CAAYf,CAFhB,EAGI,KAAKe,MAAL,CAAYnB,KAHhB,EAII,KAAKmB,MAAL,CAAYlB,MAJhB;AAQA,SAAKe,OAAL,CAAaoB,QAAb,CACI,KAAKf,MAAL,CAAYnB,CADhB,EAEI,KAAKmB,MAAL,CAAYjB,CAFhB,EAGI,KAAKiB,MAAL,CAAYrB,KAHhB,EAII,KAAKqB,MAAL,CAAYpB,MAJhB;;AAQA,QAAI4B,IAAI,CAACgB,gBAAL,CAAsBzB,IAAtB,CAA2B,IAA3B,CAAJ,EAAsC;AAClC,WAAKJ,OAAL,CAAaoB,QAAb,CACI,KAAKd,IAAL,CAAUpB,CADd,EAEI,KAAKoB,IAAL,CAAUlB,CAFd,EAGI,KAAKkB,IAAL,CAAUtB,KAHd,EAII,KAAKsB,IAAL,CAAUrB,MAJd;AAMH;;AAED,SAAKe,OAAL,CAAasC,SAAb;AACA,SAAKtC,OAAL,CAAauC,WAAb,CAAyB,CAAC,CAAD,EAAI,EAAJ,CAAzB;AACA,SAAKvC,OAAL,CAAawC,MAAb,CAAqB,KAAKrD,MAAL,CAAYH,KAAZ,GAAoB,CAAzC,EAA6C,KAAKG,MAAL,CAAYF,MAAZ,GAAqB,GAAlE;AACA,SAAKe,OAAL,CAAayC,MAAb,CAAqB,KAAKtD,MAAL,CAAYH,KAAZ,GAAoB,CAAzC,EAA6C,GAA7C;AACA,SAAKgB,OAAL,CAAa0C,SAAb,GAAyB,EAAzB;AACA,SAAK1C,OAAL,CAAa2C,WAAb,GAA2B,SAA3B;AACA,SAAK3C,OAAL,CAAa4C,MAAb;AAGA,SAAK5C,OAAL,CAAakB,IAAb,GAAoB,mBAApB;AACA,SAAKlB,OAAL,CAAa6C,SAAb,GAAyB,QAAzB;AAGA,SAAK7C,OAAL,CAAaqB,QAAb,CACI,KAAKlB,MAAL,CAAYT,KAAZ,CAAkBoD,QAAlB,EADJ,EAEK,KAAK3D,MAAL,CAAYH,KAAZ,GAAoB,CAArB,GAA0B,GAF9B,EAGI,GAHJ;AAOA,SAAKgB,OAAL,CAAaqB,QAAb,CACI,KAAKhB,MAAL,CAAYX,KAAZ,CAAkBoD,QAAlB,EADJ,EAEK,KAAK3D,MAAL,CAAYH,KAAZ,GAAoB,CAArB,GAA0B,GAF9B,EAGI,GAHJ;AAOA,SAAKgB,OAAL,CAAakB,IAAb,GAAoB,kBAApB;AAGA,SAAKlB,OAAL,CAAaqB,QAAb,CACI,YAAYR,IAAI,CAACF,KAAL,GAAa,CAAzB,CADJ,EAEK,KAAKxB,MAAL,CAAYH,KAAZ,GAAoB,CAFzB,EAGI,EAHJ;AAOA,SAAKgB,OAAL,CAAakB,IAAb,GAAoB,cAApB;AAGA,SAAKlB,OAAL,CAAaqB,QAAb,CACIzC,MAAM,CAACiC,IAAI,CAACF,KAAN,CAAN,GAAqB/B,MAAM,CAACiC,IAAI,CAACF,KAAN,CAA3B,GAA0C/B,MAAM,CAACiC,IAAI,CAACF,KAAL,GAAa,CAAd,CADpD,EAEK,KAAKxB,MAAL,CAAYH,KAAZ,GAAoB,CAFzB,EAGI,GAHJ;AAKH,GAtQM;AAwQP+D,EAAAA,IAAI,EAAE,gBAAW;AACblC,IAAAA,IAAI,CAACc,MAAL;AACAd,IAAAA,IAAI,CAACY,IAAL;AAGA,QAAI,CAACZ,IAAI,CAACL,IAAV,EAAgBwC,qBAAqB,CAACnC,IAAI,CAACkC,IAAN,CAArB;AACnB,GA9QM;AAgRPhC,EAAAA,MAAM,EAAE,kBAAW;AACfjB,IAAAA,QAAQ,CAACmD,gBAAT,CAA0B,SAA1B,EAAqC,UAASC,GAAT,EAAc;AAE/C,UAAIrC,IAAI,CAACN,OAAL,KAAiB,KAArB,EAA4B;AACxBM,QAAAA,IAAI,CAACN,OAAL,GAAe,IAAf;AACA4C,QAAAA,MAAM,CAACH,qBAAP,CAA6BnC,IAAI,CAACkC,IAAlC;AACH;;AAGD,UAAIG,GAAG,CAACE,OAAJ,KAAgB,EAAhB,IAAsBF,GAAG,CAACE,OAAJ,KAAgB,EAA1C,EAA8CvC,IAAI,CAACV,MAAL,CAAYR,IAAZ,GAAmBrB,SAAS,CAACE,EAA7B;AAG9C,UAAI0E,GAAG,CAACE,OAAJ,KAAgB,EAAhB,IAAsBF,GAAG,CAACE,OAAJ,KAAgB,EAA1C,EAA8CvC,IAAI,CAACV,MAAL,CAAYR,IAAZ,GAAmBrB,SAAS,CAACG,IAA7B;AACjD,KAZD;AAeAqB,IAAAA,QAAQ,CAACmD,gBAAT,CAA0B,OAA1B,EAAmC,UAASC,GAAT,EAAc;AAAErC,MAAAA,IAAI,CAACV,MAAL,CAAYR,IAAZ,GAAmBrB,SAAS,CAACC,IAA7B;AAAoC,KAAvF;AACH,GAjSM;AAoSPqD,EAAAA,UAAU,EAAE,oBAASyB,MAAT,EAAiBC,KAAjB,EAAwB;AAChC,SAAKhD,IAAL,GAAYxB,IAAI,OAAJ,CAASsB,IAAT,CAAc,IAAd,EAAoB,KAAKE,IAAL,CAAUf,KAA9B,CAAZ;AACA,SAAKkB,IAAL,GAAY6C,KAAZ;AACA,SAAK5C,KAAL,GAAc,IAAI6C,IAAJ,EAAD,CAAaC,OAAb,EAAb;AAEAH,IAAAA,MAAM,CAAC3D,KAAP;AACA+D,IAAAA,KAAK,CAACvB,IAAN;AACH,GA3SM;AA8SPL,EAAAA,gBAAgB,EAAE,4BAAW;AACzB,WAAS,IAAI0B,IAAJ,EAAD,CAAaC,OAAb,KAAyB,KAAK9C,KAA9B,IAAuC,IAA/C;AACH,GAhTM;AAmTPyB,EAAAA,mBAAmB,EAAE,+BAAW;AAC5B,QAAIuB,QAAQ,GAAG7E,MAAM,CAACiD,IAAI,CAACE,KAAL,CAAWF,IAAI,CAACC,MAAL,KAAgBlD,MAAM,CAAC8E,MAAlC,CAAD,CAArB;AACA,QAAID,QAAQ,KAAK,KAAK9C,KAAtB,EAA6B,OAAOC,IAAI,CAACsB,mBAAL,EAAP;AAC7B,WAAOuB,QAAP;AACH;AAvTM,CAAX;AA0TA,IAAI7C,IAAI,GAAGU,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkB5B,IAAlB,CAAX;AACAiB,IAAI,CAAChB,UAAL","sourcesContent":["let DIRECTION = {\r\n    IDLE: 0,\r\n    UP: 1,\r\n    DOWN: 2,\r\n    LEFT: 3,\r\n    RIGHT: 4\r\n};\r\n\r\nlet rounds = [5, 5, 3, 3, 2];\r\nlet colors = ['#1abc9c', '#2ecc71', '#3498db', '#e74c3c', '#9b59b6'];\r\n\r\n\r\nlet Ball = {\r\n    new: function(incrementedSpeed) {\r\n        return {\r\n            width: 18,\r\n            height: 18,\r\n            x: (this.canvas.width / 2) - 9,\r\n            y: (this.canvas.height / 2) - 9,\r\n            moveX: DIRECTION.IDLE,\r\n            moveY: DIRECTION.IDLE,\r\n            speed: incrementedSpeed || 9\r\n        };\r\n    }\r\n};\r\n\r\n\r\nlet Paddle = {\r\n    new: function(side) {\r\n        return {\r\n            width: 18,\r\n            height: 70,\r\n            x: side === 'left' ? 150 : this.canvas.width - 150,\r\n            y: (this.canvas.height / 2) - 35,\r\n            score: 0,\r\n            move: DIRECTION.IDLE,\r\n            speed: 10\r\n        };\r\n    }\r\n};\r\n\r\nlet Game = {\r\n    initialize: function() {\r\n        this.canvas = document.querySelector('canvas');\r\n        this.context = this.canvas.getContext('2d');\r\n\r\n        this.canvas.width = 1400;\r\n        this.canvas.height = 1000;\r\n\r\n        this.canvas.style.width = (this.canvas.width / 2) + 'px';\r\n        this.canvas.style.height = (this.canvas.height / 2) + 'px';\r\n\r\n        this.player = Paddle.new.call(this, 'left');\r\n        this.paddle = Paddle.new.call(this, 'right');\r\n        this.ball = Ball.new.call(this);\r\n\r\n        this.paddle.speed = 8;\r\n        this.running = this.over = false;\r\n        this.turn = this.paddle;\r\n        this.timer = this.round = 0;\r\n        this.color = '#2c3e50';\r\n\r\n        Pong.menu();\r\n        Pong.listen();\r\n    },\r\n\r\n    endGameMenu: function(text) {\r\n\r\n        Pong.context.font = '110px Courier New';\r\n        Pong.context.fillStyle = this.color;\r\n\r\n\r\n        Pong.context.fillRect(\r\n            Pong.canvas.width / 2 - 350,\r\n            Pong.canvas.height / 2 - 48,\r\n            700,\r\n            100\r\n        );\r\n\r\n\r\n        Pong.context.fillStyle = '#ffffff';\r\n\r\n\r\n        Pong.context.fillText(text,\r\n            Pong.canvas.width / 2,\r\n            Pong.canvas.height / 2 + 15\r\n        );\r\n\r\n        setTimeout(function() {\r\n            Pong = Object.assign({}, Game);\r\n            Pong.initialize();\r\n        }, 3000);\r\n    },\r\n\r\n    menu: function() {\r\n\r\n        Pong.draw();\r\n\r\n        r\r\n        this.context.font = '50px Courier New';\r\n        this.context.fillStyle = this.color;\r\n\r\n\r\n        this.context.fillRect(\r\n            this.canvas.width / 2 - 350,\r\n            this.canvas.height / 2 - 48,\r\n            700,\r\n            100\r\n        );\r\n\r\n\r\n        this.context.fillStyle = '#ffffff';\r\n\r\n\r\n        this.context.fillText('Press any key to begin',\r\n            this.canvas.width / 2,\r\n            this.canvas.height / 2 + 15\r\n        );\r\n    },\r\n\r\n\r\n    update: function() {\r\n        if (!this.over) {\r\n\r\n            if (this.ball.x <= 0) Pong._resetTurn.call(this, this.paddle, this.player);\r\n            if (this.ball.x >= this.canvas.width - this.ball.width) Pong._resetTurn.call(this, this.player, this.paddle);\r\n            if (this.ball.y <= 0) this.ball.moveY = DIRECTION.DOWN;\r\n            if (this.ball.y >= this.canvas.height - this.ball.height) this.ball.moveY = DIRECTION.UP;\r\n\r\n            if (this.player.move === DIRECTION.UP) this.player.y -= this.player.speed;\r\n            else if (this.player.move === DIRECTION.DOWN) this.player.y += this.player.speed;\r\n\r\n\r\n            if (Pong._turnDelayIsOver.call(this) && this.turn) {\r\n                this.ball.moveX = this.turn === this.player ? DIRECTION.LEFT : DIRECTION.RIGHT;\r\n                this.ball.moveY = [DIRECTION.UP, DIRECTION.DOWN][Math.round(Math.random())];\r\n                this.ball.y = Math.floor(Math.random() * this.canvas.height - 200) + 200;\r\n                this.turn = null;\r\n            }\r\n\r\n\r\n            if (this.player.y <= 0) this.player.y = 0;\r\n            else if (this.player.y >= (this.canvas.height - this.player.height)) this.player.y = (this.canvas.height - this.player.height);\r\n\r\n\r\n            if (this.ball.moveY === DIRECTION.UP) this.ball.y -= (this.ball.speed / 1.5);\r\n            else if (this.ball.moveY === DIRECTION.DOWN) this.ball.y += (this.ball.speed / 1.5);\r\n            if (this.ball.moveX === DIRECTION.LEFT) this.ball.x -= this.ball.speed;\r\n            else if (this.ball.moveX === DIRECTION.RIGHT) this.ball.x += this.ball.speed;\r\n\r\n\r\n            if (this.paddle.y > this.ball.y - (this.paddle.height / 2)) {\r\n                if (this.ball.moveX === DIRECTION.RIGHT) this.paddle.y -= this.paddle.speed / 1.5;\r\n                else this.paddle.y -= this.paddle.speed / 4;\r\n            }\r\n            if (this.paddle.y < this.ball.y - (this.paddle.height / 2)) {\r\n                if (this.ball.moveX === DIRECTION.RIGHT) this.paddle.y += this.paddle.speed / 1.5;\r\n                else this.paddle.y += this.paddle.speed / 4;\r\n            }\r\n\r\n\r\n            if (this.paddle.y >= this.canvas.height - this.paddle.height) this.paddle.y = this.canvas.height - this.paddle.height;\r\n            else if (this.paddle.y <= 0) this.paddle.y = 0;\r\n\r\n\r\n            if (this.ball.x - this.ball.width <= this.player.x && this.ball.x >= this.player.x - this.player.width) {\r\n                if (this.ball.y <= this.player.y + this.player.height && this.ball.y + this.ball.height >= this.player.y) {\r\n                    this.ball.x = (this.player.x + this.ball.width);\r\n                    this.ball.moveX = DIRECTION.RIGHT;\r\n\r\n                    beep1.play();\r\n                }\r\n            }\r\n\r\n\r\n            if (this.ball.x - this.ball.width <= this.paddle.x && this.ball.x >= this.paddle.x - this.paddle.width) {\r\n                if (this.ball.y <= this.paddle.y + this.paddle.height && this.ball.y + this.ball.height >= this.paddle.y) {\r\n                    this.ball.x = (this.paddle.x - this.ball.width);\r\n                    this.ball.moveX = DIRECTION.LEFT;\r\n\r\n                    beep1.play();\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n        if (this.player.score === rounds[this.round]) {\r\n\r\n            if (!rounds[this.round + 1]) {\r\n                this.over = true;\r\n                setTimeout(function() { Pong.endGameMenu('Winner!'); }, 1000);\r\n            } else {\r\n\r\n                this.color = this._generateRoundColor();\r\n                this.player.score = this.paddle.score = 0;\r\n                this.player.speed += 0.5;\r\n                this.paddle.speed += 1;\r\n                this.ball.speed += 1;\r\n                this.round += 1;\r\n\r\n                beep3.play();\r\n            }\r\n        } else if (this.paddle.score === rounds[this.round]) {\r\n            this.over = true;\r\n            setTimeout(function() { Pong.endGameMenu('Game Over!'); }, 1000);\r\n        }\r\n    },\r\n\r\n\r\n    draw: function() {\r\n        // Clear the Canvas\r\n        this.context.clearRect(\r\n            0,\r\n            0,\r\n            this.canvas.width,\r\n            this.canvas.height\r\n        );\r\n\r\n\r\n        this.context.fillStyle = this.color;\r\n\r\n\r\n        this.context.fillRect(\r\n            0,\r\n            0,\r\n            this.canvas.width,\r\n            this.canvas.height\r\n        );\r\n\r\n\r\n        this.context.fillStyle = '#ffffff';\r\n\r\n\r\n        this.context.fillRect(\r\n            this.player.x,\r\n            this.player.y,\r\n            this.player.width,\r\n            this.player.height\r\n        );\r\n\r\n\r\n        this.context.fillRect(\r\n            this.paddle.x,\r\n            this.paddle.y,\r\n            this.paddle.width,\r\n            this.paddle.height\r\n        );\r\n\r\n\r\n        if (Pong._turnDelayIsOver.call(this)) {\r\n            this.context.fillRect(\r\n                this.ball.x,\r\n                this.ball.y,\r\n                this.ball.width,\r\n                this.ball.height\r\n            );\r\n        }\r\n\r\n        this.context.beginPath();\r\n        this.context.setLineDash([7, 15]);\r\n        this.context.moveTo((this.canvas.width / 2), this.canvas.height - 140);\r\n        this.context.lineTo((this.canvas.width / 2), 140);\r\n        this.context.lineWidth = 10;\r\n        this.context.strokeStyle = '#ffffff';\r\n        this.context.stroke();\r\n\r\n\r\n        this.context.font = '100px Courier New';\r\n        this.context.textAlign = 'center';\r\n\r\n\r\n        this.context.fillText(\r\n            this.player.score.toString(),\r\n            (this.canvas.width / 2) - 300,\r\n            200\r\n        );\r\n\r\n\r\n        this.context.fillText(\r\n            this.paddle.score.toString(),\r\n            (this.canvas.width / 2) + 300,\r\n            200\r\n        );\r\n\r\n\r\n        this.context.font = '30px Courier New';\r\n\r\n\r\n        this.context.fillText(\r\n            'Round ' + (Pong.round + 1),\r\n            (this.canvas.width / 2),\r\n            35\r\n        );\r\n\r\n\r\n        this.context.font = '40px Courier';\r\n\r\n\r\n        this.context.fillText(\r\n            rounds[Pong.round] ? rounds[Pong.round] : rounds[Pong.round - 1],\r\n            (this.canvas.width / 2),\r\n            100\r\n        );\r\n    },\r\n\r\n    loop: function() {\r\n        Pong.update();\r\n        Pong.draw();\r\n\r\n\r\n        if (!Pong.over) requestAnimationFrame(Pong.loop);\r\n    },\r\n\r\n    listen: function() {\r\n        document.addEventListener('keydown', function(key) {\r\n\r\n            if (Pong.running === false) {\r\n                Pong.running = true;\r\n                window.requestAnimationFrame(Pong.loop);\r\n            }\r\n\r\n\r\n            if (key.keyCode === 38 || key.keyCode === 87) Pong.player.move = DIRECTION.UP;\r\n\r\n\r\n            if (key.keyCode === 40 || key.keyCode === 83) Pong.player.move = DIRECTION.DOWN;\r\n        });\r\n\r\n\r\n        document.addEventListener('keyup', function(key) { Pong.player.move = DIRECTION.IDLE; });\r\n    },\r\n\r\n\r\n    _resetTurn: function(victor, loser) {\r\n        this.ball = Ball.new.call(this, this.ball.speed);\r\n        this.turn = loser;\r\n        this.timer = (new Date()).getTime();\r\n\r\n        victor.score++;\r\n        beep2.play();\r\n    },\r\n\r\n\r\n    _turnDelayIsOver: function() {\r\n        return ((new Date()).getTime() - this.timer >= 1000);\r\n    },\r\n\r\n\r\n    _generateRoundColor: function() {\r\n        var newColor = colors[Math.floor(Math.random() * colors.length)];\r\n        if (newColor === this.color) return Pong._generateRoundColor();\r\n        return newColor;\r\n    }\r\n};\r\n\r\nlet Pong = Object.assign({}, Game);\r\nPong.initialize();"],"file":"game03.dev.js"}